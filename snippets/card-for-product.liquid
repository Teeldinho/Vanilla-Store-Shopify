

{%- if card_product and card_product != empty -%}

  {%- liquid  
    assign price = card_product.price
    assign price_max = card_product.price_max
    assign discount = price_max | minus: price | divided_by: price_max | times: 100 | round: 2
    assign label = 'High Demand'
    assign reviews = 521
  -%}

  <div class="flex flex-col flex-1 gap-2 md:gap-4">
      <div class="relative flex-1">
        {% render 'card-image', card_product: card_product %}
        {% if label %}
          <div class="absolute top-4 left-3">
            {% render 'badge', variant: 'primary', content: label %}
          </div>
        {% endif %}
        {% if discount and discount > 0 %}
          <div class="absolute top-4 right-3">
            {% render 'badge', variant: 'secondary', content: "Save " | append: discount %}
          </div>
        {% endif %}
      </div>

      <div class="max-h-min">
        {% render 'card-title', title: card_product.title %}
        <div class="flex items-center">
          {% render 'render-stars', rating: 3 %}
          <span class="ml-2 text-base text-gray-500 capitalize md:text-lg line-clamp-1 font-poppins">{{ reviews }} Reviews</span>
        </div>
        <p class="text-xl font-semibold text-gray-700 md:text-2xl font-poppins">{{ card_product.price | money }}</p>
      </div>
  </div>

{%- endif -%}